<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard â€“ EcoRoute</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŒ¿</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="">
</head>

<body class="dashboard-body">
    <header class="dash-header">
        <h1>ðŸŒ¿ EcoRoute Dashboard</h1>
        <button class="logout-btn" onclick="logoutUser()">Logout</button>
    </header>

    <main class="dash-main">
        <!-- Summary cards -->
        <section class="cards-grid" aria-label="Pollution Statistics">
            <div class="card">
                <h3>Average AQI</h3>
                <p id="avgAqi">â€“</p>
            </div>
            <div class="card">
                <h3>Eco Score</h3>
                <p id="ecoScore">â€“</p>
            </div>
            <div class="card">
                <h3>Hotspots (AQI &gt; 150)</h3>
                <p id="hotspots">0</p>
            </div>
            <div class="card">
                <h3>Data Locations</h3>
                <p id="locations">0</p>
            </div>
        </section>

        <!-- Route form -->
        <section class="route-section">
            <h2>Plan an Eco-Friendly Route</h2>
            <form id="routeForm" class="route-form">
                <label for="fromInput" class="sr-only">From location</label>
                <input type="text" id="fromInput" placeholder="From (e.g. Mysuru)" required>

                <label for="toInput" class="sr-only">To location</label>
                <input type="text" id="toInput" placeholder="To (e.g. Bengaluru)" required>

                <button type="submit">Find Route</button>
            </form>
            <p class="route-hint">
                We show 3 routes:
                <span class="red-dot" aria-hidden="true"></span> High pollution/traffic,
                <span class="yellow-dot" aria-hidden="true"></span> Medium,
                <span class="green-dot" aria-hidden="true"></span> Best eco route.
            </p>
        </section>

        <!-- Map -->
        <section class="map-section" aria-label="Route Map">
            <h2>Pollution & Route Map</h2>
            <div id="map" role="application" aria-label="Interactive map showing routes"></div>
        </section>
    </main>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', initDashboard);
    </script>
</body>
</html>
